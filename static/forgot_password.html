<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Forgot Password</title>
    <link rel="stylesheet" href="mystyle.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/alpinejs/3.13.0/cdn.js" defer></script>
    <script src="script.js"></script>
</head>
    <body>
            <div class="card" x-data="forgotPassword()">
                <div class="card-header">
                    <h1>Forgot Password?</h1>
                    <p x-show="!submitted">Enter your email to receive a reset link</p>
                </div>
                <div class="card-body">
                    <!-- Alert Messages -->
                    <div x-show="message.text" class="alert" 
                        :class="message.type === 'success' ? 'alert-success' : 'alert-error'">
                        <span x-text="message.text"></span>
                    </div>

                    <!-- Form -->
                    <div x-show="!submitted">
                        <form @submit.prevent="submitRequest">
                            <div class="form-group">
                                <label for="email">Email Address</label>
                                <input 
                                    type="email" 
                                    id="email" 
                                    x-model="email"
                                    placeholder="your.email@example.com"
                                    required
                                    autofocus
                                >
                            </div>

                            <button type="submit" class="btn btn-primary" :disabled="loading">
                                <span x-text="loading ? 'Sending...' : 'Send Reset Link'"></span>
                            </button>
                        </form>
                    </div>

                    <!-- Success State -->
                    <div x-show="submitted">
                        <div class="success-icon">✉️</div>
                        <p style="text-align: center; color: #374151; line-height: 1.6;">
                            If an account exists with that email, we've sent a password reset link. 
                            Please check your inbox and spam folder.
                        </p>
                    </div>

                    <div class="back-link">
                        <a href="/static/index.html">← Back to Login</a>
                    </div>
                </div>
            </div>
        </body>
</html>